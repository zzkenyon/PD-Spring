
#### 1.基本逻辑
不管是配置文件中的切面配置，还是注解式的切面配置，最终都会被spring解析成一个内存对象  
该配置对象包含切入点pointCut、以及切入点需要增强的操作before/after……  

切面配置最终会解析成一个Map<String,Advice>,此map中保存了切面名称和增强的逻辑的映射关系，切面通知map  
例如"before" --> before()  

在spring容器实例化bean时（注意延迟加载），会将当前bean的类型与切面表达式进行匹配，类型匹配成功继续匹配方法，最终生成一个Map  
Map<Method,Map<String,Method>>  这个Map的key是匹配上的切面方法，val是上一步中的切面通知map

在调用切面方法时，代理类会先判断该方法是不是切面方法（从第二个map中取value，取到就是切面方法）

在实例化bean的时候，spring会判断该bean是否能和切面表达式相匹配  
如果匹配上，则使用动态代理生成增强过后的代理对象  

#### 2、实现细节
- 根据不同的aop配置，需要使用不同的方式生成配置对象，如通过读取配置文件或者通过注解获取配置信息
- 每一个切面，对应一个切面配置对象
- 切面中的每一个增强方法，对应一个advice通知对象